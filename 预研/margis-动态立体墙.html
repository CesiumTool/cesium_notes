<!-- 2020-2-6 16:34:43 | 版权所有 火星科技 http://marsgis.cn -->
<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0,minimum-scale=1,maximum-scale=1">
    <meta name="apple-touch-fullscreen" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no">
    <meta name="x5-fullscreen" content="true">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="keywords"
          content="&#x706B;&#x661F;&#x79D1;&#x6280;,cesium,3D,GIS,marsgis,&#x4E09;&#x7EF4;,&#x5730;&#x7403;,&#x5730;&#x56FE;,&#x5F00;&#x53D1;,&#x6846;&#x67B6;,&#x7CFB;&#x7EDF;,&#x793A;&#x4F8B;,&#x8D44;&#x6599;,&#x6A21;&#x578B;,&#x79BB;&#x7EBF;,&#x5916;&#x5305;,&#x5408;&#x80A5;,&#x5B89;&#x5FBD;,&#x4E2D;&#x56FD;">
    <meta name="description"
          content="&#x706B;&#x661F;&#x79D1;&#x6280; &#x5408;&#x80A5;&#x706B;&#x661F; &#x5408;&#x80A5;&#x706B;&#x661F;&#x79D1;&#x6280; &#x5408;&#x80A5;&#x706B;&#x661F;&#x79D1;&#x6280;&#x6709;&#x9650;&#x516C;&#x53F8; leaflet leaflet&#x6846;&#x67B6; leaflet&#x5F00;&#x53D1; cesium cesium&#x5F00;&#x53D1; cesium&#x6846;&#x67B6; &#x4E09;&#x7EF4; &#x5730;&#x7403; &#x6A21;&#x578B;  gis marsgis &#x5730;&#x56FE;&#x79BB;&#x7EBF; &#x5730;&#x56FE;&#x5F00;&#x53D1; &#x5730;&#x56FE;&#x6846;&#x67B6; &#x5730;&#x56FE;&#x5916;&#x5305; &#x6846;&#x67B6; &#x5F00;&#x53D1; &#x5916;&#x5305;  &#x5730;&#x56FE;&#x79BB;&#x7EBF; &#x4E8C;&#x7EF4;&#x5730;&#x56FE; &#x4E09;&#x7EF4;&#x5730;&#x56FE; &#x5168;&#x666F;&#x6F2B;&#x6E38; &#x5730;&#x7406;&#x4FE1;&#x606F;&#x7CFB;&#x7EDF; &#x4E91;GIS &#x4E09;&#x7EF4;GIS GIS&#x5E73;&#x53F0; WebGIS">
    <link rel="shortcut icon" type="image/x-icon" href="http://cesium.marsgis.cn/favicon.ico">
    <title>&#x52A8;&#x6001;&#x7ACB;&#x4F53;&#x5899; |Mars3D ( MarsGIS for Cesium )|&#x4E09;&#x7EF4;&#x5730;&#x56FE;|
        &#x706B;&#x661F;&#x79D1;&#x6280;|&#x5408;&#x80A5;&#x706B;&#x661F;&#x79D1;&#x6280;|&#x5408;&#x80A5;&#x706B;&#x661F;&#x79D1;&#x6280;&#x6709;&#x9650;&#x516C;&#x53F8;</title>
    <script src="../lib/include-lib.js" libpath="../lib/"
            include="jquery,font-awesome,bootstrap,layer,haoutil,turf,mars3d"></script>
    <link href="css/style.css" rel="stylesheet">
</head>
<body class="dark">
<div id="mask" class="signmask" onclick="removeMask()"></div>
<div id="cesiumContainer" class="cesium-container"></div>
<script>var _0x2f98 = ["5Yqo5oCB56uL5L2T5aKZMg==", "QUlaU2Y=", "ZkJWb2U=", "QWh6R0M=", "Q1V0Qks=", "MHwzfDZ8NXwyfDF8NA==", "Li9pbWcvdGV4dHVyZXMvYXJyb3cyLnBuZw==", "MjAwcHg=", "d2l0Sk0=", "cHVzaA==", "R1JFRU5ZRUxMT1c=", "ZW50aXRpZXM=", "aW1nL3RleHR1cmVzL3Rhbmhhby5wbmc=", "bVp1RlM=", "d2ViZ2xyZXBvcnQ=", "b3Blbg==", "cmVhZHk=", "Q0hBUlRSRVVTRQ==", "c3lzdGVt", "R3JvdW5kUG9seWxpbmVHZW9tZXRyeQ==", "Q1VhS1Y=", "S2F4UlQ=", "Y29uZmln", "Y2VzaXVtQ29udGFpbmVy", "I0ZGRkYwMA==", "ZlZSTVk=", "WnZUa3I=", "cUZLWmY=", "NjAwcHg=", "WWFZWko=", "UmVuZGVyU3RhdGU=", "Z3JvdW5kUHJpbWl0aXZlcw==", "cExZbHk=", "TGNiQ00=", "5Yqo5oCB56uL5L2T5aKZMQ==", "R3JvdW5kUG9seWxpbmVQcmltaXRpdmU=", "5Yqo5oCB56uL5L2T5aKZMw==", "cG9seWxpbmXnur8=", "clF6dkQ=", "Z2VvbWV0cnk=", "aHR0cDovL2RhdGEubWFyc2dpcy5jbi9maWxlL2dlb2pzb24vaGVmZWkuanNvbg==", "ZnJvbUNzc0NvbG9yU3RyaW5n", "dElrdlQ=", "TGluZUZsb3dNYXRlcmlhbA==", "c2NlbmU=", "ZnJvbURlZ3JlZXNBcnJheQ==", "d21Tc2U=", "57O757uf5qOA5rWL5Yiw5oKo5L2/55So55qE5rWP6KeI5Zmo5LiN5pSv5oyBV2ViR0zlip/og70=", "Y29uZmlnL2NvbmZpZy5qc29u", "5b2T5YmN5rWP6KeI5Zmo5LiN5pSv5oyBV2ViR0zlip/og70=", "SFlPRWo=", "Y29vcmRpbmF0ZXM=", "Y2l5YnQ=", "bFNWU2I=", "Y3JlYXRlTWFw", "QVFVQQ==", "TWJRcnU=", "ZnJvbURlZ3JlZXM=", "ZnJvbURlZ3JlZXNBcnJheUhlaWdodHM=", "I2ZmMDAwMA==", "R3JvdW5kTGluZUZsb3dNYXRlcmlhbA==", "ZnNqZEc=", "Z2V0SlNPTg==", "VnZmVkg=", "YWRk", "Q2FydGVzaWFuMg==", "QUVwd0o=", "PGRpdiBzdHlsZT0ibWFyZ2luOiAyMHB4OyI+PGgzPuezu+e7n+ajgOa1i+WIsOaCqOS9v+eUqOeahOa1j+iniOWZqOS4jeaUr+aMgVdlYkdM5Yqf6IO977yBPC9oMz4gIDxwPjHjgIHor7fmgqjmo4Dmn6XmtY/op4jlmajniYjmnKzvvIzlronoo4Xkvb/nlKjmnIDmlrDniYhjaHJvbWXjgIHngavni5DmiJZJRTEx5Lul5LiK5rWP6KeI5Zmo77yBPC9wPiA8cD4y44CBV2ViR0zmlK/mjIHlj5blhrPkuo5HUFXmlK/mjIHvvIzor7fkv53or4HlrqLmiLfnq6/nlLXohJHlt7Llronoo4XmmL7ljaHpqbHliqjnqIvluo/vvIE8L3A+PC9kaXY+", "NHw5fDh8N3wzfDZ8MTB8MnwwfDF8NQ==", "dVpNVE8=", "bGVuZ3Ro", "c3BsaXQ=", "Q2FydGVzaWFuMw==", "6KGM5pS/5Yy65YiS56uL5L2T", "TWlha0M=", "Q29sb3I="];
!function (e, x) {
    !function (x) {
        for (; --x;) e.push(e.shift())
    }(427)
}(_0x2f98);
var viewer, _0x439d = function (x, e) {
    var n, i = _0x2f98[x -= 0];
    void 0 === _0x439d.HFHZaR && ((n = function () {
        var e;
        try {
            e = Function('return (function() {}.constructor("return this")( ));')()
        } catch (x) {
            e = window
        }
        return e
    }()).atob || (n.atob = function (x) {
        for (var e, n, i = String(x).replace(/=+$/, ""), d = "", a = 0, r = 0; n = i.charAt(r++); ~n && (e = a % 4 ? 64 * e + n : n, a++ % 4) ? d += String.fromCharCode(255 & e >> (-2 * a & 6)) : 0) n = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);
        return d
    }), _0x439d.eIFawV = function (x) {
        for (var e = atob(x), n = [], i = 0, d = e.length; i < d; i++) n += "%" + ("00" + e.charCodeAt(i).toString(16)).slice(-2);
        return decodeURIComponent(n)
    }, _0x439d.osVkOz = {}, _0x439d.HFHZaR = !0);
    var d = _0x439d.osVkOz[x];
    return void 0 === d ? (i = _0x439d.eIFawV(i), _0x439d.osVkOz[x] = i) : i = d, i
};

function removeMask() {
    ({
        wmSse: function (x, e) {
            return x(e)
        }
    })[_0x439d("0x0")]($, "#mask").remove()
}

function initMap() {
    var i = {
        qRYvS: function (x, e) {
            return x(e)
        }, rQzvD: _0x439d("0x26"), HYOEj: function (x, e, n) {
            return x(e, n)
        }, lSVSb: function (x) {
            return x()
        }, CUaKV: _0x439d("0x2"), uZMTO: _0x439d("0x35")
    }, x = haoutil[_0x439d("0x30")].getRequestByName(_0x439d("0x34"), i[_0x439d("0x32")]);
    mars3d[_0x439d("0x8")]({
        id: i[_0x439d("0x17")],
        url: x,
        center: {y: 31.756884, x: 117.181677, z: 9841.8, heading: 12, pitch: -52.9, roll: .1},
        success: function (x, e) {
            var n = {
                YaYZJ: function (x, e) {
                    return i.qRYvS(x, e)
                }
            };
            _0x439d("0x26") === i[_0x439d("0x44")] ? (viewer = x, i[_0x439d("0x4")](setTimeout, removeMask, 3e3), i[_0x439d("0x7")](initWork)) : n[_0x439d("0x3b")](addBoundary, result)
        }
    })
}

function initWork() {
    for (var n = {
        YLvge: _0x439d("0x16"),
        ciybt: _0x439d("0x31"),
        pxShB: _0x439d("0x1e"),
        KaxRT: "img/textures/arrow.png",
        pLYly: function (x, e) {
            return x(e)
        },
        CUtBK: _0x439d("0x46"),
        VvfVH: _0x439d("0x42"),
        MiakC: _0x439d("0xd"),
        fBVoe: "img/textures/fence.png",
        fVRMY: _0x439d("0x2a"),
        AIZSf: _0x439d("0x40"),
        AEpwJ: _0x439d("0x24")
    }, x = n.YLvge[_0x439d("0x19")]("|"), e = 0; ;) {
        switch (x[e++]) {
            case"0":
                var i = new Cesium.GeometryInstance({
                    geometry: new (Cesium[_0x439d("0x31")])({
                        positions: Cesium[_0x439d("0x1a")][_0x439d("0x4b")]([117.169646, 31.769171, 117.194579, 31.806466]),
                        width: 20
                    }), id: n[_0x439d("0x6")]
                });
                continue;
            case"1":
                viewer[_0x439d("0x4a")][_0x439d("0x3d")][_0x439d("0x12")](new (Cesium[_0x439d("0x41")])({
                    geometryInstances: i,
                    appearance: new Cesium.Appearance({material: d, renderState: new (Cesium[_0x439d("0x3c")])})
                }));
                continue;
            case"2":
                var d = new (mars3d[_0x439d("0xe")])({
                    image: _0x439d("0x24"),
                    axisY: !1,
                    speed: 5,
                    repeat: {x: 20, y: 1},
                    color: Cesium[_0x439d("0x1d")][_0x439d("0x28")]
                });
                continue;
            case"3":
                r.entities[_0x439d("0x12")]({
                    name: n.pxShB,
                    wall: {
                        positions: Cesium[_0x439d("0x1a")][_0x439d("0x4b")]([117.216321, 31.842863, 117.246056, 31.843395, 117.246503, 31.818713, 117.217114, 31.819745, 117.216321, 31.842863]),
                        maximumHeights: [500, 500, 500, 500, 500],
                        minimumHeights: [38.9, 44, 34.7, 34.4, 38.9],
                        material: new (mars3d[_0x439d("0x49")])({
                            color: Cesium[_0x439d("0x1d")][_0x439d("0x2f")],
                            duration: 1e3,
                            url: n[_0x439d("0x33")],
                            repeat: new (Cesium[_0x439d("0x13")])(30, 1)
                        })
                    }
                });
                continue;
            case"4":
                var a = {
                    qFKZf: function (x, e) {
                        return n[_0x439d("0x3e")](x, e)
                    }
                };
                continue;
            case"5":
                $[_0x439d("0x10")](n[_0x439d("0x22")], function (x) {
                    a[_0x439d("0x39")](addBoundary, x)
                });
                continue;
            case"6":
                r.entities[_0x439d("0x12")]({
                    name: n[_0x439d("0x11")],
                    wall: {
                        positions: Cesium.Cartesian3.fromDegreesArray([117.191537, 31.809769, 117.198383, 31.804991]),
                        maximumHeights: [500, 500],
                        minimumHeights: [41.14, 39.84],
                        material: new (mars3d[_0x439d("0x49")])({
                            color: new (Cesium[_0x439d("0x1d")][_0x439d("0x47")])(n[_0x439d("0x1c")]),
                            duration: 2e3,
                            url: n.fBVoe,
                            axisY: !0,
                            bgUrl: n[_0x439d("0x37")],
                            bgColor: new (Cesium[_0x439d("0x1d")].fromCssColorString)(_0x439d("0x36"))
                        })
                    }
                });
                continue;
            case"7":
                r.entities[_0x439d("0x12")]({
                    name: n[_0x439d("0x1f")],
                    wall: {
                        positions: Cesium[_0x439d("0x1a")][_0x439d("0x4b")]([117.154815, 31.853495, 117.181255, 31.854257, 117.182284, 31.848255, 117.184748, 31.840141, 117.180557, 31.835556, 117.180023, 31.833741, 117.166846, 31.833737, 117.155531, 31.833151, 117.154787, 31.835978, 117.151994, 31.839036, 117.150691, 31.8416, 117.151215, 31.844734, 117.154457, 31.848152, 117.154815, 31.853495]),
                        maximumHeights: [600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600],
                        minimumHeights: [43.9, 49.4, 38.7, 40, 54, 51, 66.7, 44.6, 41.2, 31.2, 50.1, 53.8, 46.9, 43.9],
                        material: new (mars3d[_0x439d("0x49")])({
                            color: new (Cesium[_0x439d("0x1d")].fromCssColorString)("#00ff00"),
                            duration: 2e3,
                            url: n[_0x439d("0x20")],
                            axisY: !0
                        })
                    }
                });
                continue;
            case"8":
                viewer.dataSources.add(r);
                continue;
            case"9":
                var r = new Cesium.CustomDataSource;
                continue;
            case"10":
                viewer[_0x439d("0x29")][_0x439d("0x12")]({
                    name: _0x439d("0x43"),
                    polyline: {
                        positions: Cesium[_0x439d("0x1a")][_0x439d("0xc")]([117.204289, 31.763824, 32.05, 117.228083, 31.791911, 41.73]),
                        width: 20,
                        material: new (mars3d[_0x439d("0x49")])({
                            color: Cesium[_0x439d("0x1d")][_0x439d("0x9")],
                            duration: 1e3,
                            url: n[_0x439d("0x14")],
                            repeat: new (Cesium[_0x439d("0x13")])(10, 1)
                        })
                    }
                });
                continue
        }
        break
    }
}

function addBoundary(x) {
    for (var e = {
        LcbCM: _0x439d("0x23"), ZvTkr: function (x, e) {
            return x < e
        }, VrAxo: _0x439d("0x1b"), tIkvT: "#0111A9"
    }, n = e[_0x439d("0x3f")][_0x439d("0x19")]("|"), i = 0; ;) {
        switch (n[i++]) {
            case"0":
                var d = x[_0x439d("0x45")][_0x439d("0x5")][0];
                continue;
            case"1":
                for (var a = 0, r = d[_0x439d("0x18")]; e[_0x439d("0x38")](a, r); a++) c[_0x439d("0x27")](Cesium.Cartesian3[_0x439d("0xb")](d[a][0], d[a][1])), o.push(t), u[_0x439d("0x27")](0);
                continue;
            case"2":
                var o = [];
                continue;
            case"3":
                var t = 3e3;
                continue;
            case"4":
                viewer[_0x439d("0x29")][_0x439d("0x12")]({
                    name: e.VrAxo,
                    wall: {
                        positions: c,
                        maximumHeights: o,
                        minimumHeights: u,
                        material: new mars3d.LineFlowMaterial({
                            color: new (Cesium[_0x439d("0x1d")][_0x439d("0x47")])(e[_0x439d("0x48")]),
                            duration: 3e3,
                            url: "img/textures/fence.png",
                            repeat: new (Cesium[_0x439d("0x13")])(5, 1),
                            axisY: !1
                        })
                    }
                });
                continue;
            case"5":
                var u = [];
                continue;
            case"6":
                var c = [];
                continue
        }
        break
    }
}

$(document)[_0x439d("0x2e")](function () {
    var x = {
        AhzGC: function (x, e) {
            return x(e)
        },
        tJzQx: _0x439d("0x1"),
        MbQru: _0x439d("0x3"),
        SDiUJ: _0x439d("0x3a"),
        fsjdG: _0x439d("0x25"),
        mZuFS: _0x439d("0x15"),
        GKLjx: function (x) {
            return x()
        }
    };
    mars3d.util[_0x439d("0x2c")]() || (x[_0x439d("0x21")](alert, x.tJzQx), layer[_0x439d("0x2d")]({
        type: 1,
        title: x[_0x439d("0xa")],
        closeBtn: 0,
        shadeClose: !1,
        resize: !1,
        area: [x.SDiUJ, x[_0x439d("0xf")]],
        content: x[_0x439d("0x2b")]
    })), x.GKLjx(initMap)
})</script>
</body>
</html>