<!-- 2020-2-6 16:34:44 | 版权所有 火星科技 http://marsgis.cn -->
<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0,minimum-scale=1,maximum-scale=1">
    <meta name="author" content="&#x706B;&#x661F;&#x79D1;&#x6280; http://cesium.marsgis.cn ">
    <meta name="apple-touch-fullscreen" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no">
    <meta name="x5-fullscreen" content="true">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="keywords"
          content="&#x706B;&#x661F;&#x79D1;&#x6280;,cesium,3D,GIS,marsgis,&#x4E09;&#x7EF4;,&#x5730;&#x7403;,&#x5730;&#x56FE;,&#x5F00;&#x53D1;,&#x6846;&#x67B6;,&#x7CFB;&#x7EDF;,&#x793A;&#x4F8B;,&#x8D44;&#x6599;,&#x6A21;&#x578B;,&#x79BB;&#x7EBF;,&#x5916;&#x5305;,&#x5408;&#x80A5;,&#x5B89;&#x5FBD;,&#x4E2D;&#x56FD;">
    <meta name="description"
          content="&#x706B;&#x661F;&#x79D1;&#x6280; &#x5408;&#x80A5;&#x706B;&#x661F; &#x5408;&#x80A5;&#x706B;&#x661F;&#x79D1;&#x6280; &#x5408;&#x80A5;&#x706B;&#x661F;&#x79D1;&#x6280;&#x6709;&#x9650;&#x516C;&#x53F8; leaflet leaflet&#x6846;&#x67B6; leaflet&#x5F00;&#x53D1; cesium cesium&#x5F00;&#x53D1; cesium&#x6846;&#x67B6; &#x4E09;&#x7EF4; &#x5730;&#x7403; &#x6A21;&#x578B;  gis marsgis &#x5730;&#x56FE;&#x79BB;&#x7EBF; &#x5730;&#x56FE;&#x5F00;&#x53D1; &#x5730;&#x56FE;&#x6846;&#x67B6; &#x5730;&#x56FE;&#x5916;&#x5305; &#x6846;&#x67B6; &#x5F00;&#x53D1; &#x5916;&#x5305;  &#x5730;&#x56FE;&#x79BB;&#x7EBF; &#x4E8C;&#x7EF4;&#x5730;&#x56FE; &#x4E09;&#x7EF4;&#x5730;&#x56FE; &#x5168;&#x666F;&#x6F2B;&#x6E38; &#x5730;&#x7406;&#x4FE1;&#x606F;&#x7CFB;&#x7EDF; &#x4E91;GIS &#x4E09;&#x7EF4;GIS GIS&#x5E73;&#x53F0; WebGIS">
    <link rel="shortcut icon" type="image/x-icon" href="http://cesium.marsgis.cn/favicon.ico">
    <title>&#x79EF;&#x96EA;&#x573A;&#x666F; |Mars3D ( MarsGIS for Cesium )|&#x4E09;&#x7EF4;&#x5730;&#x56FE;| &#x706B;&#x661F;&#x79D1;&#x6280;|&#x5408;&#x80A5;&#x706B;&#x661F;&#x79D1;&#x6280;|&#x5408;&#x80A5;&#x706B;&#x661F;&#x79D1;&#x6280;&#x6709;&#x9650;&#x516C;&#x53F8;</title>
    <script src="../lib/include-lib.js" libpath="../lib/"
            include="jquery,font-awesome,bootstrap,bootstrap-checkbox,jquery.range,layer,haoutil,turf,mars3d"></script>
    <link href="css/style.css" rel="stylesheet">
</head>
<body class="dark">
<div id="mask" class="signmask" onclick="removeMask()"></div>
<div id="cesiumContainer" class="cesium-container"></div>
<div class="infoview">
    <table class="mars-table">
        <tr>
            <td>&#x72B6;&#x6001;</td>
            <td>
                <div class="checkbox checkbox-primary checkbox-inline"><input id="chkUnderground" class="styled"
                                                                              type="checkbox" checked> <label
                        for="chkUnderground">&#x5F00;&#x542F;&#x4E0B;&#x96EA;&#x6548;&#x679C;</label></div>
            </td>
        </tr>
        <tr>
            <td>&#x79EF;&#x96EA;&#x7A0B;&#x5EA6;</td>
            <td><input id="alpha" type="range" min="0.0" max="1.0" step="0.1" value="0.6"></td>
        </tr>
    </table>
</div>
<script>var _0x1b65 = ["bXVOUko=", "YWxwaGE=", "dk9YV0Y=", "TERVbWE=", "57O757uf5qOA5rWL5Yiw5oKo5L2/55So55qE5rWP6KeI5Zmo5LiN5pSv5oyBV2ViR0zlip/og70=", "QnR1VWM=", "YWRk", "SENzblc=", "ZGVwdGhUZXN0QWdhaW5zdFRlcnJhaW4=", "U25vd0ZT", "eGJvcXA=", "Y3JlYXRlTGF5ZXI=", "d2RoRGw=", "c3lzdGVt", "TXJOVkU=", "MjAwcHg=", "dmFs", "SUVWaXI=", "NjAwcHg=", "Z2xvYmU=", "RVhjU1Y=", "ZGVzdHJveQ==", "aVRsdWs=", "Y29uZmlnL2NvbmZpZy5qc29u", "eGl6c3I=", "TWt5ZVk=", "QVVpUGQ=", "Y2hhbmdl", "M2R0aWxlcw==", "5b2T5YmN5rWP6KeI5Zmo5LiN5pSv5oyBV2ViR0zlip/og70=", "b3Blbg==", "REJSdGM=", "VXJRYVg=", "d2ViZ2xyZXBvcnQ=", "VlZJTmw=", "ZVhpd1I=", "cmVhZHk=", "akNvRWg=", "I2Noa1VuZGVyZ3JvdW5k", "bFlQYXo=", "Y1hSQWo=", "TGJrTUw=", "bEdhSEg=", "PGRpdiBzdHlsZT0ibWFyZ2luOiAyMHB4OyI+PGgzPuezu+e7n+ajgOa1i+WIsOaCqOS9v+eUqOeahOa1j+iniOWZqOS4jeaUr+aMgVdlYkdM5Yqf6IO977yBPC9oMz4gIDxwPjHjgIHor7fmgqjmo4Dmn6XmtY/op4jlmajniYjmnKzvvIzlronoo4Xkvb/nlKjmnIDmlrDniYhjaHJvbWXjgIHngavni5DmiJZJRTEx5Lul5LiK5rWP6KeI5Zmo77yBPC9wPiA8cD4y44CBV2ViR0zmlK/mjIHlj5blhrPkuo5HUFXmlK/mjIHvvIzor7fkv53or4HlrqLmiLfnq6/nlLXohJHlt7Llronoo4XmmL7ljaHpqbHliqjnqIvluo/vvIE8L3A+PC9kaXY+", "c2NlbmU=", "bExxeE8=", "Sk15bEM=", "Y29uZmln", "d1ZYTGE=", "bGF5ZXI=", "Z2V0UmVxdWVzdEJ5TmFtZQ==", "Y2VzaXVtQ29udGFpbmVy", "I2FscGhh", "cG9zdFByb2Nlc3NTdGFnZXM=", "OmNoZWNrZWQ=", "I21hc2s=", "cXJVV3o=", "U0NiS1I=", "YlpJUVU=", "alNFemQ=", "QkdnY3g=", "cmVtb3Zl", "ak5WS2o=", "UG9zdFByb2Nlc3NTdGFnZQ==", "Y3JlYXRlTWFw", "R3ZIZEM="];
!function (x, a) {
    !function (a) {
        for (; --a;) x.push(x.shift())
    }(298)
}(_0x1b65);
var viewer, snow, _0x12a5 = function (a, x) {
    var n, e = _0x1b65[a -= 0];
    void 0 === _0x12a5.vXUeuu && ((n = function () {
        var x;
        try {
            x = Function('return (function() {}.constructor("return this")( ));')()
        } catch (a) {
            x = window
        }
        return x
    }()).atob || (n.atob = function (a) {
        for (var x, n, e = String(a).replace(/=+$/, ""), r = "", o = 0, i = 0; n = e.charAt(i++); ~n && (x = o % 4 ? 64 * x + n : n, o++ % 4) ? r += String.fromCharCode(255 & x >> (-2 * o & 6)) : 0) n = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);
        return r
    }), _0x12a5.ztbFgn = function (a) {
        for (var x = atob(a), n = [], e = 0, r = x.length; e < r; e++) n += "%" + ("00" + x.charCodeAt(e).toString(16)).slice(-2);
        return decodeURIComponent(n)
    }, _0x12a5.NgfYOQ = {}, _0x12a5.vXUeuu = !0);
    var r = _0x12a5.NgfYOQ[a];
    return void 0 === r ? (e = _0x12a5.ztbFgn(e), _0x12a5.NgfYOQ[a] = e) : e = r, e
};

function removeMask() {
    var a = {BGgcx: _0x12a5("0x16")};
    $(a[_0x12a5("0x1b")])[_0x12a5("0x1c")]()
}

function initMap() {
    var n = {
        wdhDl: _0x12a5("0x1d"), SCbKR: function (a, x, n) {
            return a(x, n)
        }, IEVir: function (a) {
            return a()
        }, UrQaX: _0x12a5("0xe"), wVXLa: _0x12a5("0x12")
    }, a = haoutil[_0x12a5("0x2e")][_0x12a5("0x11")](n[_0x12a5("0x41")], _0x12a5("0x38"));
    mars3d[_0x12a5("0x1f")]({
        id: n[_0x12a5("0xf")],
        url: a,
        center: {y: 33.591015, x: 119.032698, z: 72.51, heading: 343.3, pitch: -20.8, roll: 0},
        success: function (a, x) {
            n[_0x12a5("0x2d")] == n[_0x12a5("0x2d")] ? (viewer = a, n[_0x12a5("0x18")](setTimeout, removeMask, 3e3), n[_0x12a5("0x32")](initWork)) : addSnow($(this).is(":checked"))
        }
    })
}

function initWork() {
    var o = {
        Cipdm: function (a, x, n) {
            return a(x, n)
        },
        bZIQU: function (a) {
            return a()
        },
        jCoEh: "config",
        AUiPd: _0x12a5("0x12"),
        IBAGF: function (a, x) {
            return a !== x
        },
        BtuUc: _0x12a5("0x28"),
        xboqp: function (a, x) {
            return a(x)
        },
        muNRJ: function (a, x) {
            return a === x
        },
        lYPaz: _0x12a5("0x17"),
        GvHdC: _0x12a5("0x40"),
        vOXWF: _0x12a5("0x15"),
        LbkML: _0x12a5("0x3d"),
        jSEzd: function (a, x) {
            return a(x)
        },
        sSsfW: _0x12a5("0x13"),
        EXcSV: _0x12a5("0x5"),
        cXRAj: function (a, x) {
            return a(x)
        }
    };
    viewer[_0x12a5("0xb")][_0x12a5("0x34")][_0x12a5("0x29")] = !0, mars3d[_0x12a5("0x10")][_0x12a5("0x2c")]({
        type: o[_0x12a5("0x8")],
        url: "http://data.marsgis.cn/3dtiles/qx-simiao/tileset.json",
        offset: {z: 81.5},
        maximumScreenSpaceError: 2,
        maximumMemoryUsage: 8192,
        dynamicScreenSpaceError: !0,
        cullWithChildrenBounds: !1,
        luminanceAtZenith: .6,
        visible: !0
    }, viewer);
    var i = new mars3d.scene.SnowCover(viewer, {alpha: Number(o.jSEzd($, o.sSsfW)[_0x12a5("0x31")]())});
    o[_0x12a5("0x1a")]($, _0x12a5("0x13")).range({
        onChange: function (a, x) {
            var e = {
                MrNVE: function (a, x, n) {
                    return o.Cipdm(a, x, n)
                }, FCLhd: function (a) {
                    return o[_0x12a5("0x19")](a)
                }, lGaHH: o[_0x12a5("0x4")], LDUma: o[_0x12a5("0x3b")]
            };
            if (o.IBAGF(o[_0x12a5("0x26")], o[_0x12a5("0x26")])) {
                var n = {
                    PYOrT: function (a, x, n) {
                        return e[_0x12a5("0x2f")](a, x, n)
                    }, lLqxO: function (a) {
                        return e.FCLhd(a)
                    }
                }, r = haoutil[_0x12a5("0x2e")].getRequestByName(e[_0x12a5("0x9")], _0x12a5("0x38"));
                mars3d.createMap({
                    id: e[_0x12a5("0x24")],
                    url: r,
                    center: {y: 33.591015, x: 119.032698, z: 72.51, heading: 343.3, pitch: -20.8, roll: 0},
                    success: function (a, x) {
                        viewer = a, n.PYOrT(setTimeout, removeMask, 3e3), n[_0x12a5("0xc")](initWork)
                    }
                })
            } else i[_0x12a5("0x22")] = o[_0x12a5("0x2b")](Number, a)
        }
    }), $(o[_0x12a5("0x35")])[_0x12a5("0x3c")](function () {
        if (o[_0x12a5("0x21")](o[_0x12a5("0x6")], o[_0x12a5("0x20")])) snow && snow[_0x12a5("0x36")](), snow = new Cesium.PostProcessStage({fragmentShader: mars3d[_0x12a5("0xb")][_0x12a5("0x2a")]}), viewer[_0x12a5("0xb")][_0x12a5("0x14")][_0x12a5("0x27")](snow); else {
            var a = o[_0x12a5("0x2b")]($, this).is(o[_0x12a5("0x23")]);
            o.xboqp(addSnow, a)
        }
    }), o[_0x12a5("0x7")](addSnow, !0)
}

function addSnow(a) {
    a ? (snow && snow.destroy(), snow = new (Cesium[_0x12a5("0x1e")])({fragmentShader: mars3d[_0x12a5("0xb")][_0x12a5("0x2a")]}), viewer[_0x12a5("0xb")][_0x12a5("0x14")][_0x12a5("0x27")](snow)) : (snow && snow.destroy(), snow = null)
}

$(document)[_0x12a5("0x3")](function () {
    var a = {
        VVINl: function (a, x) {
            return a === x
        }, iTluk: _0x12a5("0x3a"), DTXAw: function (a, x) {
            return a(x)
        }, eXiwR: _0x12a5("0x3e"), KEpZk: _0x12a5("0x33"), JMylC: _0x12a5("0x30"), xizsr: _0x12a5("0xa")
    };
    mars3d.util[_0x12a5("0x0")]() || (a[_0x12a5("0x1")]("broUv", a[_0x12a5("0x37")]) ? (snow && snow[_0x12a5("0x36")](), snow = null) : (a.DTXAw(alert, _0x12a5("0x25")), layer[_0x12a5("0x3f")]({
        type: 1,
        title: a[_0x12a5("0x2")],
        closeBtn: 0,
        shadeClose: !1,
        resize: !1,
        area: [a.KEpZk, a[_0x12a5("0xd")]],
        content: a[_0x12a5("0x39")]
    }))), initMap()
})</script>
</body>
</html>